<div class="offers-container">
    <!-- Loading State -->
    <div *ngIf="loading" class="loading-state">
        <div class="spinner"></div>
        <p>Loading offer details...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="error && !loading" class="error-state">
        <div class="error-icon">‚ö†Ô∏è</div>
        <h2>Oops!</h2>
        <p>{{ error }}</p>
        <button class="btn-back" (click)="goBack()">
            <span class="icon">‚Üê</span>
            Go Back
        </button>
    </div>

    <!-- Offer Details -->
    <div *ngIf="serviceRequest && !loading && !error" class="offer-card">
        <!-- Header -->
        <div class="offer-header">
            <button class="btn-back-icon" (click)="goBack()">
                <span>‚Üê</span>
            </button>
            <h1>Service Request Offer</h1>
        </div>

        <!-- Image Section -->
        <div class="offer-image-section">
            <img [src]="getImageUrl()" [alt]="serviceRequest.description" class="offer-image">
            <div class="price-badge">
                <span class="price-label">Suggested Price</span>
                <span class="price-value">{{ serviceRequest.suggestedPrice || 'Not specified' }} EGP</span>
            </div>
        </div>

        <!-- Details Section -->
        <div class="offer-details">
            <div class="detail-item">
                <div class="detail-icon">üìù</div>
                <div class="detail-content">
                    <h3>Description</h3>
                    <p>{{ serviceRequest.description }}</p>
                </div>
            </div>

            <div class="detail-item">
                <div class="detail-icon">üìç</div>
                <div class="detail-content">
                    <h3>Location</h3>
                    <p>{{ serviceRequest.location || 'Not specified' }}</p>
                </div>
            </div>

            <div class="detail-item">
                <div class="detail-icon">üïê</div>
                <div class="detail-content">
                    <h3>Service Start Time</h3>
                    <p>{{ formatDate(serviceRequest.serviceStartTime) }}</p>
                </div>
            </div>

            <div class="detail-item">
                <div class="detail-icon">‚ÑπÔ∏è</div>
                <div class="detail-content">
                    <h3>Status</h3>
                    <span class="status-badge" >
                        {{ serviceRequest.status || 'Pending' }}
                    </span>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="offer-actions">
            <button class="btn-action btn-accept" (click)="onAccept()">
                <span class="btn-icon">‚úì</span>
                <span class="btn-text">Accept</span>
            </button>

            <button class="btn-action btn-reject" (click)="onReject()">
                <span class="btn-icon">‚úï</span>
                <span class="btn-text">Reject</span>
            </button>

            <button class="btn-action btn-new-offer" (click)="onNewOffer()" *ngIf="isCraftsman">
                <span class="btn-icon">üí∞</span>
                <span class="btn-text">New Offer</span>
            </button>
        </div>
    </div>
</div>